server:
  port: 8443
spring:
  application:
    name: gateway-web
  cloud:
    nacos:
      discovery:
        server-addr: ${REGISTER_HOST:10.0.0.110}:${REGISTER_PORT:8848}
        namespace: ${REGISTER_NAMESPACE:aba811bc-87ee-4179-92a5-398b5684d55c}
        group: ${REGISTER_GROUP:k12-dev}
      config:
        server-addr: ${REGISTER_HOST:10.0.0.110}:${REGISTER_PORT:8848}
        file-extension: yml
        namespace: ${CONFIG_NAMESPACE:352312ed-57d2-4e7c-b160-fe2b2f0dce6f}
        group: java
        ext-config:
          - data-id:
              config-dev.yml
            group:
              common
            refresh:
              true
          - data-id: # node服务的白名单
              nodejs-whitelist.yml
            group:
              nodejs
            refresh:
              true
    sentinel:
      transport:
        dashboard: ${SENTINEL_DASHBOARD_HOST:10.0.0.110}:${SENTINEL_DASHBOARD_PORT:18021}


k12-nestjs-server:
  POST:
    - '/^\/api\/device\/register[\/#\?]?$/i'
    - '/^\/api\/device\/attendance\/whitelist\/modify[\/#\?]?$/i'
    - '/^\/api\/dingding\/form_login[\/#\?]?$/i'
    - '/^\/api\/dingding\/registered_auto_login[\/#\?]?$/i'
    - '/^\/api\/dingding\/auto_login[\/#\?]?$/i'
    - '/^\/api\/dingding\/callback\/receive[\/#\?]?$/i'
  GET:
    - '/^\/api\/device\/bound\/list[\/#\?]?$/i'
    - '/^\/api\/survey(?:\/([^\/#\?]+?))\/dept[\/#\?]?$/i'
  PUT:
    - '/^\/api\/device\/attendance\/rule\/modify[\/#\?]?$/i'
    - '/^\/api\/device\/attendance\/templist\/full[\/#\?]?$/i'
  DELETE:
    - '/^\/api\/device\/attendance\/all\/clear[\/#\?]?$/i'
k12-node-server:
  GET:
    - '/^\/eureka\/(.*)(?:\/)?$/i'
    - '/^\/graphql(?:\/)?$/i'
    - '/^\/class\/([1-9][0-9]*)\/honors(?:\/)?$/i'
    - '/^\/class\/([1-9][0-9]*)\/info(?:\/)?$/i'
    - '/^\/class\/([1-9][0-9]*)\/committees(?:\/)?$/i'
    - '/^\/class\/([1-9][0-9]*)\/teachers(?:\/)?$/i'
    - '/^\/api\/school\/config\/([1-9][0-9]*)(?:\/)?$/i'
    - '/^\/school\/([^\/]+?)\/config(?:\/)?$/i'
    - '/^\/school\/([^\/]+?)\/dictionary\/visitor(?:\/)?$/i'
    - '/^\/class\/honor\/([1-9][0-9]*)\/students(?:\/)?$/i'
    - '/^\/class\/([1-9][0-9]*)\/honor\/students(?:\/)?$/i'
    - '/^\/swagger-ui\.html(?:\/)?$/i'
    - '/^\/swagger-ui\.css(?:\/)?$/i'
    - '/^\/swagger-ui-bundle\.js(?:\/)?$/i'
    - '/^\/swagger-ui-standalone-preset\.js(?:\/)?$/i'
    - '/^\/favicon(.*)\.png(?:\/)?$/i'
    - '/^\/swagger-doc(?:\/)?$/i'
    - '/^\/wechat\/token(?:\/)?$/i'
    - '/^\/wechat\/code2openid(?:\/)?$/i'
    - '/^\/test(?:\/)?$/i'
    - '/^\/egg-shell-document\/(.*)(?:\/)?$/i'
    - '/^\/swagger-ui\/(.*)(?:\/)?$/i'
    - '/^\/school\/([^\/]+?)(?:\/)?$/i'
    - '/^\/school\/([^\/]+?)\/name(?:\/)?$/i'
    - '/^\/school\/([^\/]+?)\/weather(?:\/)?$/i'
    - '/^\/qiniu\/token(?:\/)?$/i'
    - '/^\/place\/([^\/]+?)\/children(?:\/)?$/i'
    - '/^\/place\/device\/tree(?:\/)?$/i'
    - '/^\/resource\/pushed(?:\/)?$/i'
    - '/^\/class\/([^\/]+?)\/summary(?:\/)?$/i'
    - '/^\/bepf\/(.*)(?:\/)?$/i'
    - '/^\/inform\/(.*)(?:\/)?$/i'
    - '/^\/face\/list(?:\/)?$/i'
    - '/^\/face\/list_old(?:\/)?$/i'
    - '/^\/version\/latest(?:\/)?$/i'
    - '/^\/edu\/report\/student(?:\/)?$/i'
    - '/^\/edu\/device\/(.*)(?:\/)?$/i'
    - '/^\/api\/web\/question\/list\/dev(?:\/)?$/i'
    - '/^\/api\/web\/question\/detail(?:\/)?$/i'
    - '/^\/api\/web\/question\/result(?:\/)?$/i'
    - '/^\/api\/rule\/default\/([^\/]+?)(?:\/)?$/i'
    - '/^\/resource(?:\/)?$/i'
    - '/^\/edu\/common\/TimetablesUnionForJYH(?:\/)?$/i'
    - '/^\/edu\/common\/TimingSyncForJYH(?:\/)?$/i'
    - '/^\/api\/edu\/attendance\/gettimerule(?:\/)?$/i'
    - '/^\/student\/([^\/]+?)\/record\/in(?:\/)?$/i'
    - '/^\/place\/parent_level2(?:\/)?$/i'
    - '/^\/api\/place\/rules(?:\/)?$/i'
    - '/^\/bepf\/userRecordAnalysis\/get_student_state_by_class_id(?:\/)?$/i'
    - '/^\/bepf\/userRecordAnalysis\/get_user_state_info_list_by_class_id(?:\/)?$/i'
    - '/^\/star\/report\/class\/([^\/]+?)(?:\/)?$/i'
    - '/^\/star\/report\/student\/([^\/]+?)(?:\/)?$/i'
    - '/^\/star\/report\/class\/([^\/]+?)\/week_ranking(?:\/)?$/i'
    - '/^\/star\/school\/([^\/]+?)(?:\/)?$/i'
    - '/^\/place\/([^\/]+?)\/template(?:\/)?$/i'
    - '/^\/face\/count(?:\/)?$/i'
    - '/^\/face\/list_old(?:\/)?$/i'
    - '/^\/face\/import\/([^\/]+?)\/progress(?:\/)?$/i'
    - '/^\/face\/test\/import(?:\/)?$/i'
    - '/^\/third\/(.*)(?:\/)?$/i'
    - '/^\/leave\/device\/student\/([^\/]+?)\/list(?:\/)?$/i'
    - '/^\/leave\/device\/([^\/]+?)\/details(?:\/)?$/i'
    - '/^\/leave\/out\/records(?:\/)?$/i'
    - '/^\/bepf\/userInfo\/get_user_info_by_user_no_or_card(?:\/)?$/i'
  POST:
    - '/^\/place\/sync\/dept\/([^\/]+?)(?:\/)?$/i'
    - '/^\/auth\/wechat_login\/(.*)(?:\/)?$/i'
    - '/^\/bus\/track(?:\/)?$/i'
    - '/^\/message\/ding(?:\/)?$/i'
    - '/^\/message\/mqtt(?:\/)?$/i'
    - '/^\/message\/wechat(?:\/)?$/i'
    - '/^\/message\/sms\/([^\/]+?)(?:\/)?$/i'
    - '/^\/wechat\/account\/([^\/]+?)(?:\/)?$/i'
    - '/^\/wechat\/sign(?:\/)?$/i'
    - '/^\/wechat\/token(?:\/)?$/i'
    - '/^\/wechat\/check\/([^\/]+?)(?:\/)?$/i'
    - '/^\/message\/code\/([^\/]+?)(?:\/)?$/i'
    - '/^\/api\/edu\/init(?:\/)?$/i'
    - '/^\/device\/bind(?:\/)?$/i'
    - '/^\/device\/register(?:\/)?$/i'
    - '/^\/bepf\/leaveInfo\/(.*)(?:\/)?$/i'
    - '/^\/bepf\/report\/inRecord(?:\/)?$/i'
    - '/^\/inform\/(.*)(?:\/)?$/i'
    - '/^\/place(?:\/)?$/i'
    - '/^\/edu\/report\/classroom(?:\/)?$/i'
    - '/^\/edu\/report\/classroom\/withAttRule(?:\/)?$/i'
    - '/^\/edu\/report\/student(?:\/)?$/i'
    - '/^\/edu\/device\/(.*)(?:\/)?$/i'
    - '/^\/bepf\/leave_message\/add_leave_message(?:\/)?$/i'
    - '/^\/api\/edu\/attendance\/syncRecord(?:\/)?$/i'
    - '/^\/api\/web\/question\/result(?:\/)?$/i'
    - '/^\/qiniu\/fetch(?:\/)?$/i'
    - '/^\/message\/mqtt\/class(?:\/)?$/i'
    - '/^\/device\/event(?:\/)?$/i'
    - '/^\/school\/([^\/]+?)\/init(?:\/)?$/i'
    - '/^\/resource\/label\/default(?:\/)?$/i'
    - '/^\/star\/add(?:\/)?$/i'
    - '/^\/star\/subtract(?:\/)?$/i'
    - '/^\/star\/report\/classes(?:\/)?$/i'
    - '/^\/message\/sms\/callback(?:\/)?$/i'
    - '/^\/message\/sms\/distribute(?:\/)?$/i'
    - '/^\/supreme\/(.*)(?:\/)?$/i'
    - '/^\/place\/parse_path(?:\/)?$/i'
    - '/^\/leave\/device\/apply(?:\/)?$/i'
    - '/^\/leave\/out\/records(?:\/)?$/i'
    - '/^\/payment\/wepay\/notify(?:\/)?$/i'
    - '/^\/push\/wechat\/message_callback(?:\/)?$/i'
    - '/^\/payment\/consume(?:\/)?$/i'
    - '/^\/payment\/recharge\/callback(?:\/)?$/i'
    - '/^\/payment\/recharge_money_frontserver(?:\/)?$/i'
    - '/^\/bepf\/card\/lossCard(?:\/)?$/i'
    - '/^\/bepf\/card\/cancel_loss_card(?:\/)?$/i'
    - '/^\/bepf\/userInfo\/update_verify_password(?:\/)?$/i'
  PUT: []
  DELETE:
    - '/^\/wechat\/account\/([^\/]+?)(?:\/)?$/i'
